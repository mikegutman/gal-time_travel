<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#f59e0b">
  <title>מסע בזמן — 2D Platformer</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Heebo:wght@400;500&display=swap" rel="stylesheet" crossorigin>
</head>
<body>
  <div id="game-container">
    <canvas id="game-canvas"></canvas>
    <div id="ui">
      <div id="level-panel">
        <span id="level-label">שלב / Level</span>
        <span id="level-value">1</span>
      </div>
      <div id="score-panel">
        <span id="score-label">Gems</span>
        <span id="score-value">0</span>
      </div>
      <div id="lives-panel">
        <span id="lives-label">Lives</span>
        <span id="lives-value">5</span>
      </div>
      <div id="mission-panel" class="mission-panel hidden">
        <span id="mission-label">משימות / Missions</span>
        <div id="mission-list"></div>
      </div>
    </div>
    <div id="home-screen">
      <div id="home-character-wrap">
        <canvas id="home-character-canvas" width="180" height="220" aria-hidden="true"></canvas>
      </div>
      <div id="home-content">
      <h1>מסע בזמן</h1>
      <p class="home-subtitle">מסך בית / Main Menu</p>
      <p class="outfit-label">בחר תלבושת ונושא עולם / Choose outfit &amp; world theme</p>
      <div id="outfit-grid">
        <button type="button" class="outfit-btn active" data-outfit="classic" title="Classic">
          <span class="outfit-preview classic"></span>
          <span>קלאסי</span>
        </button>
        <button type="button" class="outfit-btn" data-outfit="gold" title="Gold">
          <span class="outfit-preview gold"></span>
          <span>זהב</span>
        </button>
        <button type="button" class="outfit-btn" data-outfit="fire" title="Fire">
          <span class="outfit-preview fire"></span>
          <span>אש</span>
        </button>
        <button type="button" class="outfit-btn" data-outfit="ocean" title="Ocean">
          <span class="outfit-preview ocean"></span>
          <span>ים</span>
        </button>
        <button type="button" class="outfit-btn" data-outfit="forest" title="Forest">
          <span class="outfit-preview forest"></span>
          <span>יער</span>
        </button>
      </div>
      <div id="home-missions">
        <p class="home-missions-title">משימות בכל שלב / Mission goals</p>
        <ul class="home-missions-list">
          <li>אסוף ג'מס / Collect gems</li>
          <li>הביס אויבים (דריכה או ירי) / Defeat enemies</li>
          <li>אסוף גביעים / Collect trophies</li>
        </ul>
      </div>
      <div id="home-shooting-wrap">
        <span class="home-option-label">אויבים יורים / Shooting enemies</span>
        <button type="button" id="toggle-shooting-btn" class="toggle-option-btn" title="Toggle shooting enemies">כן / On</button>
      </div>
      <div id="home-difficulty-wrap">
        <span class="home-option-label">רמת קושי / Difficulty</span>
        <div id="difficulty-btns">
          <button type="button" class="difficulty-btn" data-difficulty="easy" title="Easy">קל</button>
          <button type="button" class="difficulty-btn active" data-difficulty="normal" title="Normal">רגיל</button>
          <button type="button" class="difficulty-btn" data-difficulty="hard" title="Hard">קשה</button>
        </div>
      </div>
      <p class="home-mobile-note">מתאים לשחק גם מנייד — כפתורים יופיעו במשחק</p>
      <button id="play-from-home-btn">שחק / Play</button>
      </div>
    </div>
    <div id="start-screen" class="hidden">
      <h1>מסע בזמן</h1>
      <p class="desktop-hint">Arrow keys or A/D to move • W or ↑ to jump • Space to shoot</p>
      <p class="mobile-hint hidden">Use the buttons below to move, jump and shoot</p>
      <p>Collect gems, shoot or stomp enemies! Reach the flag.</p>
      <button id="start-btn">Play</button>
    </div>
    <div id="game-over-screen" class="hidden">
      <h2>Game Over</h2>
      <p>Gems: <span id="final-score">0</span></p>
      <button id="restart-btn">Play Again</button>
    </div>
    <div id="win-screen" class="hidden">
      <h2>You Win!</h2>
      <p>Gems: <span id="win-score">0</span></p>
      <button id="play-again-btn">Play Again</button>
    </div>
    <div id="touch-controls" class="hidden" aria-hidden="true">
      <div class="touch-left-group">
        <button type="button" id="touch-left" aria-label="שמאלה / Left">←</button>
        <button type="button" id="touch-right" aria-label="ימינה / Right">→</button>
      </div>
      <div class="touch-right-group">
        <button type="button" id="touch-jump" aria-label="קפוץ / Jump">↑</button>
        <button type="button" id="touch-attack" aria-label="ירי / Shoot">●</button>
      </div>
    </div>
    <div id="rotate-prompt" class="hidden" aria-hidden="true">
      <div class="rotate-prompt-inner">
        <span class="rotate-icon" aria-hidden="true">↻</span>
        <p>הפנה את המכשיר לאופקי כדי לשחק</p>
        <p class="rotate-sub">Rotate your device to landscape to play</p>
      </div>
    </div>
  </div>
  <script src="game.js"></script>
</body>
</html>
